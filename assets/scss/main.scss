@import "compass/css3";
@import "normalize";
@import "base";
@import "settings";

body {
  background:#e2e2e2;
}

.content {
  @extend .wrap-content;
}

.full-column {

}

.left-column {
  width:65%;
  float:left;

  .section-title {
    font-size:1.3em;
    font-weight:600;
    padding-bottom:.7em;
    border-bottom:.15em solid #c5c5c5;
  }
}

.right-column {
  width:35%;
  float:left;
  padding-left:2.4em;

  .section-title {
    font-size:1.2em;
    font-weight:600;
    color:#666;
    padding-bottom:.7em;
    border-bottom:.2em solid #c5c5c5;
  }
}

header {
  border-bottom:.2em solid #c5c5c5;
  margin-bottom:2.5em;
  z-index:1;
  padding:2em 0;

  .logo {
    text-decoration:none;
    color:#666;
    font-size:2.2em;
    line-height:1em;
    margin-right:.5em;
    text-transform:uppercase;
    font-weight:600;
    display:inline-block;
  }

  nav {
    display:inline-block;
    position:static;
    vertical-align:top;

    ul {
      margin:0;
      padding:0;
      position:static;
      list-style:none;
    }

    li {
      display:inline-block;

      &.account {
        position:absolute;
        right:0;
        top:1.5em;
        padding-right:0;

        > a {
          padding:1em 1.5em 1em 3.5em;
        }
      }

      &.account.active-user {

        img {
          border-radius:100%;
          width:1.8em;
          height:1.8em;
          margin-right:.5em;
          position:absolute;
          left:1em;
          top:.7em;
          display:inline-block;
        }

        &:hover {  

          > a {
            background:#fff;
            box-shadow:0 .1em .1em rgba(#000,.1);
            border-radius:.25em .25em 0 0;
          }

          ul {
            display:block;
          }
        }

        > a {

          &:after {
            content:"";
            display:inline-block;
            border-top:.3125em solid #999;
            border-left:.3125em solid transparent;
            border-right:.3125em solid transparent;
            width:0;
            height:0;
            margin-left:.5em;
            position:relative;
            top:-.1em;
          }
        }
      }

      ul {
        display:none;
        position:absolute;
        background:#fff;
        width:125%;
        right:0;
        box-shadow:0 .1em .1em rgba(#000,.1);
        border-radius:.25em 0 .25em .25em;
        padding:.5em 0;

        li {
          display:block;
          padding:0;
        }

        a {
          padding:.5em 1em;
          font-size:.9em;
          font-weight:normal;
        }
      }
    }

    a {
      text-decoration:none;
      color:#999;
      font-weight:600;
      display:block;
      padding:.5em 1em;
    }
  }
}

.breadcrumb {
  margin-top:-.75em;
  margin-bottom:1.75em;

  a {
    color:$primary;
    text-decoration:none;
    padding-right:.75em;

    & + a {

      &:before {
        content:"";
        display:inline-block;
        border-left:.3125em solid #999;
        border-top:.3125em solid transparent;
        border-bottom:.3125em solid transparent;
        height:0;
        width:0;
        padding-right:.75em;
      }
    }
  }
}

form {
  overflow:hidden;

  .parsley-error {
    border-color:$error-color;
  }

  .parsley-error-list {
    position:absolute;
    top:0;
    right:0;
    display:block;
    pointer-events:none;
    margin:0;
    padding:0;

    li {
      padding:.5em .8em;
      margin:.7em;
      border-radius:.2em;
      background:$error-color;
      font-size:.8em;
      font-weight:600;
      color:#fff;
    }
  }
}

.textbox {
  border-radius:.3em;
  border:.15em solid #c5c5c5;
  display:block;
  width:100%;
  padding:.7em 1em;
  margin-bottom:1em;

  &:focus {
    outline:none;
    border-color:$outline-color;
  }
}

textarea {
  @extend .textbox;
  height:8em;
  resize:none;
}

.submit {
  border-radius:.3em;
  background:$primary;
  color:#fff;
  padding:.7em 1em;
  text-decoration:none;
  display:inline-block;
  border:0;
  float:right;
  margin-bottom:.01em;
}

section {
  margin-bottom:2.5em;
}

.create-issue {
  .section-title {
    margin-bottom:1.4em;
  }
}

.message {
  background:#fefdf5;
  border-radius:.3em;
  border:.15em solid #f4efc3;
  padding:1.4em;
  text-align:center;
  color:#59564f;

  .message-title {
    font-size:1.2em;
    font-weight:600;
    margin-bottom:.5em;
  }
}

.recent-activity {

  .recent-activity-item {
    overflow:hidden;
    border-bottom:.15em solid #c5c5c5;
    padding:.8em 0;
    vertical-align:middle;

    .recent-activity-content {
      overflow:hidden;
    }

    .recent-activity-icon {
      margin-right:.8em;
      float:left;
      width:10%;

      img {
        width:100%;
        display:block;
      }

      & + .recent-activity-message {
        .recent-activity-title {
          margin-top:.55em;
        }
      }
    }

    .recent-activity-message {
      width:87%;

      p {
        margin:0;
        font-size:.9em;
        color:#666;
      }
    }

    .recent-activity-title {
      font-size:1.1em;
      font-weight:600;
      line-height:1.2em;
      margin-bottom:.2em;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      color:#222;

      & + .recent-activity-meta {
        margin:.5em 0 .5em 0;
      }
    }

    .recent-activity-meta {
      margin:0 0 .5em 0;
      color:#666;
    }

    .recent-activity-timeago {
      display:block;
      font-size:.7em;
      color:#999;
      position:absolute;
      right:0;
      top:50%;
      margin-top:-.5em;
    }
  }

  a {
    color:$primary;
    font-weight:600;
    text-decoration:none;
  }
}

.search {
  margin-bottom:2.5em;

  form {
    overflow:visible;
    z-index:1;
  }

  .textbox {
    z-index:1;
    margin:0;

    &:focus + .live-search-results {
      display:block;
    }
  }

  .live-search-results {
    margin-top:-.15em;
    background:#f5f5f5;
    border-radius:0 0 .3em .3em;
    border:.15em solid #c5c5c5;
    display:block;
    width:100%;
    display:none;

    .live-search-results-header {
      padding:.7em 1em;
      border-top:.15em solid #c5c5c5;
      border-bottom:.15em solid #c5c5c5;
      background:#fff;
      font-weight:600;
      font-size:1.1em;
    }

    .live-search-message {
      @extend .message;
      border:none;
      background:transparent;
    }

    .issue-list-item {
      border:0;
      overflow:hidden;
      padding:.7em 1em;
      font-size:.9em;

      & + .issue-list-item {
        border-top:.15em solid #c5c5c5;
      }

      .issue-title {
        float:left;
        font-size:1.1em;
        width:80%;
        white-space:nowrap;
        overflow:hidden;
        text-overflow:ellipsis;
      }

      .issue-date {
        float:left;
        color:#999;
        font-size:.9em;
      }

      .issue-link {
        border-radius:.3em;
        background:$primary;
        color:#fff;
        padding:.7em 1em;
        font-size:.9em;
        text-decoration:none;
        display:inline-block;
        float:right;
      }
    }
  }
}

.support-sections {

  .section-nav {

    a {
      color:#222;
      text-decoration:none;
      display:inline-block;
      border-bottom:.1em solid #999;
      font-weight:600;
      margin:1em 1em .5em 0;
      font-size:.9em;
    }
  }

  .support-section {
    display:block;
    text-decoration:none;
    padding:.7em 0;

    .support-section-title {
      color:$primary;
      font-weight:600;
    }

    .support-section-date {
      color:#666;
      font-size:.8em;
    }

    .support-section-following {
      float:right;
      border-radius:.3em;
      background:$primary;
      color:#fff;
      padding:.7em 1em;
      font-size:.9em;
      text-decoration:none;
      display:inline-block;
    }
  }
}

.tickets-following {

  .ticket {
    display:block;
    text-decoration:none;
    border-bottom:.15em solid #c5c5c5;
    padding:1em 0;

    .ticket-title {
      color:$primary;
      font-weight:600;
      display:block;
      margin-bottom:.3em;
    }

    .ticket-meta {
      color:#999;
      display:block;
      font-size:.9em;
      margin-bottom:.3em;
    }

    .ticket-comment {
      color:#444;
      display:block;
      font-size:.9em;
    }
  }
}

.issue-thread {

  form.comment {
    overflow:hidden;

    .comment-content {
      padding:0;
    }
  }

  .comment {
    margin-bottom:1em;

    & + .comment {
      margin-left:4em;

      p {
        margin:1em 0;
      }
    }

    &.staff {
      margin-left:0;
      margin-right:4em;

      .comment-meta {
        overflow:hidden;
        margin-left:4em;
        margin-right:-4em;
      }

      .author {
        float:right;

        img {
          float:right;
          margin-left:1em;
          margin-right:0;
        }
      }

      .comment-timeago {
        float:left;
      }
    }

    .comment-meta {
      margin-bottom:.5em;
      height:3em;
    }

    .author {
      text-decoration:none;

      img {
        border-radius:100%;
        display:inline-block;
        vertical-align:top;
        margin-right:1em;
        width:3em;
      }
    }

    .author-name {
      color:$primary;
      top:1em;
    }

    .author-action {
      top:1em;
      color:#222;
    }

    .comment-timeago {
      float:right;
      top:1em;
      color:#999;
      text-decoration:none;
    }

    .comment-content {
      border-radius:.3em;
      background:#fafafa;
      border:.15em solid #c5c5c5;
      padding:.4em 1.4em;
      margin-left:4em;
    }

    .textarea-wrap {
      margin-left:4em;
    }

    .comment-title {
      font-size:1.4em;
      font-weight:600;
      margin-top:.7em;
    }

    .comment-tags {
      margin-bottom:1em;

      a {
        text-decoration:none;
        color:$primary;
        font-weight:600;
        font-size:.8em;
        padding-right:.8em;
      }

      &:before {
        content:"\e70c";
        font-family:$icon;
        color:#c5c5c5;
        top:.1em;
        position:relative;
        margin-right:.8em;
      }
    }

    .follow-thread {
      position:absolute;
      bottom:-.15em;
      right:-.15em;
      color:#222;
      font-weight:600;
      font-size:.9em;
      text-decoration:none;
      padding:.75em 1.5em;
      background:lighten($primary,50%);
      border-radius:.3em 0 .3em 0;
      border-top:.15em solid lighten($primary,40%);
      border-left:.15em solid lighten($primary,40%);
      border:.15em solid lighten($primary,40%);
    }
  }
}

.issue-list {
  border-bottom:.15em solid #c5c5c5;

  .issue-list-item {
    padding:1.4em 0;
    border-top:.15em solid #c5c5c5;

    .issue-title {
      font-size:1.3em;
      font-weight:600;
      margin-bottom:.2em;
      color:$primary;
    }

    .issue-date {
      color:#999;
      font-size:.9em;
      margin-bottom:.6em;
    }

    .issue-description {
      color:#444;
      margin-bottom:1em;
    }

    .issue-link {
      border-radius:.3em;
      background:$primary;
      color:#fff;
      padding:.7em 1em;
      font-size:.9em;
      text-decoration:none;
      display:inline-block;
    }
  }
}
